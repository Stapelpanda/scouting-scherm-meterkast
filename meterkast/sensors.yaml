text_sensor:
  - platform: homeassistant
    id: airco_1_state
    entity_id: climate.airco_lokaal_1_airco
    on_value:
      then:
        - binary_sensor.template.publish:
            id: airco_1_switch
            state: !lambda |-
              if (id(airco_1_state).has_state()) {
                std::string state = id(airco_1_state).state;
                return state != "off";
              }
              return false;

binary_sensor:
  - platform: template
    id: airco_1_switch
    lambda: |-
      if (id(airco_1_state).has_state()) {
        std::string state = id(airco_1_state).state;
        return state != "off";
      }
      return false;
    on_state:
      then:
        - lvgl.widget.update:
            id: lokaal1
            state:
              checked: !lambda |-
                return x;
